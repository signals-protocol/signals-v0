# 보안 및 테스트 개요

시그널스는 메커니즘 설계, 컨트랙트 구현, 운영 절차에 걸쳐 다층적인 안전 장치를 적용합니다. 이 문서는 현재 적용 중인 조치와 향후 계획을 요약한 것입니다.

## 컨트랙트 보안

- **메커니즘 충실성** – [백서](/whitepaper.pdf)의 CLMSR 잠재함수를 그대로 구현해 확률 정상화와 메이커 손실 한계를 보장합니다.
- **접근 제어** – `Ownable`과 하드햇 스크립트를 통해 업그레이드·시장 생성·정산 권한을 단일 운영 계정에 집중시켰으며, 타임락/멀티시그 도입을 준비 중입니다.
- **재진입·일시정지** – 외부 진입점은 `nonReentrant`를 사용하고, 비상 상황을 위한 일시정지/재개 훅을 제공합니다.
- **입력 검증** – 틱 범위, 계수, 유동성 파라미터가 유효 범위를 벗어나면 명시적인 에러와 함께 즉시 revert됩니다.
- **청크 가드** – 지수 연산에 `MAX_EXP_INPUT_WAD`, `MAX_CHUNKS_PER_TX` 상수를 적용해 가스와 정밀도를 안정적으로 유지합니다.

## 테스트 커버리지

- 수학 라이브러리, 세그먼트 트리, 에러 처리에 대한 단위 테스트.
- 시장 생성, 거래, 정산, 청구까지 포괄하는 통합/E2E 테스트.
- 가격 정상화와 손실 한계를 검증하는 불변성(invariant) 테스트.
- 청크 동작과 정산 배치 비용을 추적하는 가스 벤치마크.

## 운영 보안

- **배포 manifest** – 환경별 구현 주소와 버전을 기록해 변경 이력을 추적합니다.
- **Dispatcher 스크립트** – 배포/업그레이드/운영을 자동화해 수동 입력 실수를 줄입니다.
- **모니터링** – Goldsky 서브그래프와 검증 스크립트로 예상 상태와 실제 상태의 차이를 감지합니다.

## 로드맵

- 오너 역할에 타임락 + 멀티시그 래퍼 도입.
- 매도/청구 라운딩을 내림으로 통일하고 최소 주문 `0.01 SUSD`를 온체인에서 강제.
- 위 변경이 반영되면 외부 감사를 진행.

## 취약점 제보

- 재현 절차와 영향도를 정리해 `security@signals-protocol.com`으로 이메일을 보내주세요.
- 심각한 이슈는 공개 채널이나 GitHub 이슈에 올리지 마세요.
- 패치가 준비될 때까지 세부 정보를 비공개로 유지해 주세요.

프로토콜 한계는 [안전 한계 & 파라미터](../mechanism/safety-parameters.md), 운영 절차는 [Settlement Pipeline](../market/settlement-pipeline.md) 문서에서 확인할 수 있습니다.
