# 프로토콜 파라미터

이 문서는 시그널스 배포에 영향을 주는 설정 값과 상수를 정리합니다. 기본 수치는 CLMSR 백서와 현재 Solidity 구현을 기준으로 하며, 차이가 있을 경우 백서 값이 향후 변경 방향을 나타냅니다.

## 시장 설정

| 파라미터 | 설명 | 출처 |
| --- | --- | --- |
| `OutcomeSpec = (L, U, s, d)` | 결과 범위, 틱 간격, 오라클 소수 자리 | 시장별 운영자 설정 |
| $\alpha$ | 유동성 파라미터로 슬리피지와 메이커 손실을 제어 | 시장별 운영자 설정 |
| 거래 창 | `startTimestamp`, `endTimestamp`, `settlementTimestamp`(선택) | 시장별 운영자 설정 |
| 결제 토큰 | 거래에 사용되는 ERC-20(SUSD, 6 decimals) | 배포 설정 |

### 권장 기본값

- 최소 주문 $\delta_{\min} = 0.01\ \text{SUSD}$ — 컨트랙트가 강제하기 전까지 UI에서 제약을 두세요.
- 원하는 해상도에 맞춰 틱 간격 $s$를 선택하되, 간격이 좁을수록 가스와 $\alpha \times \ln n$ 값이 증가합니다.

## 하드코딩된 상수

| 상수 | 값 | 용도 |
| --- | --- | --- |
| `MAX_TICK_COUNT` | `1_000_000` | 세그먼트 트리 깊이 제한 |
| `MAX_CHUNKS_PER_TX` | `1_000` | 지수 청크 반복 한도 |
| `MIN_FACTOR` / `MAX_FACTOR` | `0.01e18` / `100e18` | Lazy 곱셈 계수 범위 |
| `FLUSH_THRESHOLD` | `1e21` | 대기 중인 계수 강제 전파 |
| `MAX_EXP_INPUT_WAD` | `1.0e18` | PRB-Math `exp`의 안전 입력 한도 |

근거는 [안전 한계 & 파라미터](../mechanism/safety-parameters.md)를 참고하세요.

## 접근 제어

| 역할 | 권한 | 비고 |
| --- | --- | --- |
| 오너 (`Ownable`) | 시장 생성, 정산, 정지/재개, 업그레이드 | 현재 1개 계정 |
| 사용자 | 포지션 개설/증가/감소/종료, 청구 | 완전 허용 |

아직 타임락·멀티시그 래퍼는 배포되지 않았으며, 향후 거버넌스 업그레이드 시 추가 역할을 문서화할 예정입니다.

## 업그레이드 프로세스

- 컨트랙트는 UUPS 프록시 패턴을 사용합니다. 업그레이드는 오너가 각 프록시에 대해 `upgradeTo`를 호출해야 합니다.
- 핵심 컨트랙트는 `__gap`을 유지해 저장소 레이아웃을 호환합니다.
- 배포 manifest(`deployments/environments/*.json`)가 모든 구현 주소를 기록합니다.

운영 절차는 [Governance & Upgrades](upgrades.md) 문서에서도 확인할 수 있습니다.

## 경제 정책

CLMSR 메커니즘 자체에는 프로토콜 수수료가 없습니다. 인센티브(예: PointsGranter 보상)는 오프체인 또는 보조 컨트랙트에서 처리합니다. 향후 수수료 프로그램이 도입되면 이 문서에서 공식적인 수식과 함께 안내합니다.
