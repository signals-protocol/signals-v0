# 시그널스 작동 방식

이 가이드는 하루 동안 하나의 시장이 어떻게 구성되고 정산되는지를 따라가며 컨트랙트, 운영자, 트레이더가 어떤 순서로 상호작용하는지 보여 줍니다. 높은 수준의 리듬만 알고 싶다면 [일일 시장 흐름 요약](./market-flow-overview.md)을 먼저 읽고, 포지션이 거치는 세부 경로가 궁금하다면 계속 읽어 보세요.

## 1. 시장 스케줄 확정

루프는 운영자가 `createMarket`에 일일 파라미터를 제출하면서 시작됩니다. 트랜잭션에는 대상 UTC 날짜, 하한과 상한 틱, $100 간격, 그리고 유동성 파라미터 $\alpha$가 담깁니다. 기록이 완료되면 해당 `marketId`가 앱과 서브그래프에 표시되고, 곧바로 거래를 받을 수 있도록 지수 가중치 트리가 초기화됩니다.

## 2. 범위 선택

트레이더는 CoinMarketCap 종가가 도달할 것이라고 믿는 반열린 범위 `[lower, upper)`를 지정해 자신의 가설을 표현합니다. 입력은 온체인 틱과 동일하게 $100 단위로만 움직이고, UI는 CLMSR 잠재함수를 읽어 승률과 예상 페이아웃을 실시간으로 보여 줍니다. 모든 범위가 하나의 풀을 공유하기 때문에 이미 열려 있는 다른 포지션이 즉시 확률에 반영됩니다.

## 3. SUSD 스테이킹

포지션에 자금을 넣으면 트레이더 지갑에서 SUSD(소수점 6자리)가 빠져나와 풀에 잠깁니다. 컨트랙트는 최소 1마이크로 SUSD까지 비용을 올림 처리해 “공짜 포지션”을 막고, 포지션을 닫거나 정산될 때까지 금액이 묶여 있습니다. 트레이더는 하나의 밴드에 집중할 수도 있고 인접한 밴드에 분산 배치해 별도 자산을 관리하지 않고도 노출을 조정할 수 있습니다.

## 4. 모니터링과 조정

23:59:59(UTC)까지 열려 있는 거래 구간 동안의 모든 조정은 동일한 CLMSR 로직을 호출합니다. 범위를 늘리면 내부 가중치가 곱해지고, 줄이거나 닫으면 되돌려지며, 비용 함수는 누적 수량에만 의존하므로 작업 순서가 경제적 결과를 바꾸지 않습니다. 앱은 확률 차트, 최근 체결, 리더보드를 함께 보여 줘서 트레이더가 인터페이스를 벗어나지 않고도 분위기 변화를 따라잡을 수 있게 합니다.

## 5. 정산과 청구

거래 구간이 끝나면 운영자가 CoinMarketCap BTC/USD 일일 종가를 검증해 `settleMarket`에 게시합니다. 이어지는 작업이 `emitPositionSettledBatch(limit)`를 반복 호출해 모든 포지션에 정산 이벤트가 달릴 때까지 진행됩니다. 승리한 트레이더는 원하는 시점에 `claimPayout`을 호출할 수 있으며, 컨트랙트는 스테이크와 페이아웃을 돌려주면서 포지션 토큰을 소각합니다. 동일한 이벤트가 서브그래프로 흘러 들어가 분석 도구와 커뮤니티 리캡이 체인과 동기화됩니다.

직접 전체 흐름을 경험하고 싶다면 [빠른 시작](/docs/quickstart)을 따라 지갑과 테스트 유동성을 세팅한 뒤 오늘의 시장을 탐색해 보세요.
